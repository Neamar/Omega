<p>Avant de commencer à travailler, quelques rappels :</p>
<?php 
$Rappels = array();

$Rappels[] = 'Délai avant expiration : ' . $this->Date_countdown($this->Exercice->Expiration);
$Rappels[] = 'Type de la demande : <strong>' . $this->Exercice->DetailsDemande . '</strong>. ' . $this->Doc_anchor('correcteur', 'demande_' . strtolower($this->Exercice->Demande));

echo $this->Html_list($Rappels);
?>
<p>Vous retrouverez l'exercice au complet ci-dessous.</p>

<div id="tabs">
	<ul>
		<li><a href="#envoi-texte">Source TeX</a></li>
		<li><a href="#envoi-apercu">Aperçu</a></li>
		<li><a href="#envoi-log">Console</a></li>
		<li><a href="#envoi-ressources">Ressources</a></li>
		<li><a href="#envoi-historique">Historique</a></li>
	</ul>
	<div id="envoi-texte">
		<form id="form_envoi-exercice" method="post" action="">
		<?php
		echo $this->Form_textareaLabelBr(
			'corrige',
			'Votre texte',
			array(
				'required' => 'required',
				'style' => 'height:500px;',
				'value' => '\maketitle
\LaTeX{} is a document preparation system for the \TeX{} typesetting program. It offers programmable desktop publishing',
			)
		);
		echo $this->Doc_inputBr('correcteur', 'aide_tex');
		
		echo $this->Form_input('apercu-exercice', array('type' => 'button', 'value' => 'Prévisualiser'));
		echo $this->Form_submit('envoi-exercice', "Envoyer ce texte");
		?>
		</form>
	</div>
	<div id="envoi-apercu">
		<p>Aucune information disponible pour l'instant.
		<a href="#" class="compiler">Prévisualiser maintenant</a>.</p>
	</div>
	<div id="envoi-log">
		<pre id="pre_envoi-log">
		Aucune information disponible pour l'instant.
		<a href="#" class="compiler">Prévisualiser maintenant</a>.
		</pre>
	</div>
	<div id="envoi-ressources">
		<form method="post" action="">
      		<?php 
      		echo $this->Form_input('ressource-upload', array('type' => 'file'));
      		?>
      	</form>
	</div>
	<div id="envoi-historique">
		<p>Besoin de récupérer les anciennes versions de votre travail ? Tout est sauvegardé ici !</p>
		<form>
			<?php 
			echo $this->Form_selectLabelBr('historique', 'Liste des sauvegardes', $this->Historique);
			?>
		</form>
		<p>À chaque fois que vous prévisualisez votre document, le texte est enregistré pour vous permettre de le consulter à nouveau si nécessaire.</p>
	</div>
</div>

<?php 
echo $this->Exercice($this->Exercice);
?>

<!-- Texte affiché pendant la compilation -->
<div id="modal" title="Information">
</div>

<script type="text/javascript">
var Hash = "<?php echo $this->Exercice->Hash;?>";
var LongHash = "<?php echo $this->Exercice->LongHash;?>";
var CompilationURL = "/correcteur/exercice/_compilation/<?php echo $this->Exercice->Hash;?>";
var PageURL = "/correcteur/exercice/_preview/<?php echo $this->Exercice->Hash;?>/page/__PAGE__/width/__LARGEUR__";
var PdfURL = "/public/exercices/<?php echo $this->Exercice->LongHash;?>/Corrige/preview.pdf";
var RevertURL = "/correcteur/exercice/_revert/<?php echo $this->Exercice->Hash;?>/id/__ID__";
var UploadURL = "/correcteur/exercice/_ressource/";
var Token = "<?php echo $this->token?>";
</script>
